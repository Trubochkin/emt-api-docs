---
# title: Архитектура приложения
---
# Архитектура приложения

![app architecture](/images/architecture.png)

Веб сервер приложения построен на базе `Windows Server 2012 R2`. В качестве базы данных используется Microsoft SQL Server.
Серверное приложение разрабатывается на платформе ASP.NET. Архитектура всего приложения состоит из нескольких компонентов:

**`EMT.Web.UI (Frontend)`** - компонент отвечающий за frontend часть и графический интерфейс. Компонент представляет собой одностраничное веб-приложение (SPA) на основе библиотеки VueJS. Приложение общается с сервером посредством HTTP запросов, которые позволяют принимать или отправлять данные закодированные в JSON формате. Также между сервером и клиентом (после авторизации) устанавливается соединение реального времени (на основе Web Socket и SignalR), которое позволяет серверу уведомлять клиента о новых данных, таких как новые значения счётчиков, новые оповещения об ошибках и т.д.

**`EMT.Web.UI (Server Side)`** - компонент отвечает за функцию соединения в реальном времени (на основе Web-Sockets и SignalR) с целью трансляции сообщений (server->client) о получении новых значений счетчиков (датчиков), новых оповещений об ошибках и т.д. Стоит отметить, что по данному каналу не передаются сами значения счётчика, а передаются id счётчика и временная метка, которые сообщают клиенту о том, что появились новые данные по определённому счётчику. После того как клиент узнает о доступности новых данных, он может запросить эти данные с помощью HTTP запроса, отправив id счётчика и временную метку.

RESTful API разделен на два независимых компонента: `EMT.Web.Api` и `EMT.Web.Api.Receive`. Причиной такого решения является обеспечение отказоустойчивости системы, то есть в случае сбоя одного из компонентов другой может продолжить работу.

**`EMT.Web.Api`** - предоставляет набор сервисов RESTful с целью получения счетчиков, их значений, метаданных, получение и отправка данных состояния приложения и т.д.

**`EMT.Web.Api.Receive`** - предоставляет услуги RESTful, отвечающие за получение новых значений счетчиков от контроллеров производственных линий и сохранение полученных значений в базе данных.
